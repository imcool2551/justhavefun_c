{"version":3,"sources":["client/client.js","context/TodoReducer.js","context/TodoContext.js","context/CounterReducer.js","context/CounterContext.js","components/Nav.js","queries/querie.js","components/AddTodo.js","components/TodoList.js","components/Others.js","components/TodoApp.js","components/Counter.js","hooks/useInput.js","components/Signup.js","components/Home.js","components/Logout.js","App.js","index.js"],"names":["client","ApolloClient","cache","InMemoryCache","link","createHttpLink","uri","credentials","todoActionCreators","username","type","payload","TodoReducer","state","action","id","text","isLoggedin","fetched","newTodo","done","todos","filter","todo","map","initialState","TodoContext","createContext","TodoProvider","children","useReducer","dispatch","Provider","value","logIn","logOut","actionCreators","CounterReducer","number","CounterContext","CounterProvider","increment","decrement","reset","Nav","useContext","to","addTodoMutation","gql","toggleTodoMutation","deleteTodoMutation","myTodosQuery","allUsersQuery","todosQuery","AddTodo","useMutation","update","addTodo","data","myTodos","readQuery","query","console","log","writeQuery","createTodo","loading","todoRef","useRef","onSubmit","e","preventDefault","variables","current","focus","placeholder","ref","disabled","textStyle","textDecoration","Todo","toggleTodo","loadingToggle","deleteTodo","loadingDelete","style","checked","onChange","onClick","TodoList","useQuery","error","useEffect","message","deleted","key","Others","useState","userId","setUserId","pollInterval","userData","useLazyQuery","getTodos","todoData","target","allUsers","displayName","index","TodoApp","Counter","initialValue","setValue","Signup","email","useInput","password","password2","errorMsg","setErrorMsg","axios","then","pathname","post","success","catch","err","response","error_msg","htmlFor","name","Home","href","Logout","history","res","replace","App","basename","exact","path","component","defaults","baseURL","withCredentials","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.009f4891.chunk.js","sourcesContent":["import { ApolloClient, HttpLink, ApolloLink, InMemoryCache, concat } from '@apollo/client';\nimport { createHttpLink } from 'apollo-link-http';\n\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: createHttpLink({ uri: 'https://sangwook.ml/graphql/' }),\n  credentials: 'include',\n});\n\nexport default client;\n\n\n\n\n\n","/* eslint-disable no-case-declarations */\n\n// Action Types\nconst LOGIN = 'todo/LOGIN';\nconst LOGOUT = 'todo/LOGUT';\n// Legacy Types\nconst INIT = 'todo/INIT';\nconst ADD = 'todo/ADD';\nconst DELETE = 'todo/DELETE';\nconst TOGGLE = 'todo/TOGGLE';\nconst SEARCH = 'todo/SEARCH';\n\n\n// Action Creators\nexport const todoActionCreators = {\n  logIn: (username) => ({\n    type: LOGIN,\n    payload: { username },\n  }),\n  logOut: () => ({\n    type: LOGOUT,\n    payload: {},\n  }),\n  // Legacies\n  searchTodo: (text) => ({\n    type: SEARCH,\n    payload: { text },\n  }),\n  init: () => ({\n    type: INIT,\n    payload: {},\n  }),\n  addTodo: (id, text) => ({\n    type: ADD,\n    payload: { id, text },\n  }),\n  deleteTodo: (id) => ({\n    type: DELETE,\n    payload: { id },\n  }),\n  toggleTodo: (id) => ({\n    type: TOGGLE,\n    payload: { id },\n  }),\n};\n\n// Reducer\nexport default function TodoReducer(state, action) {\n  const { id, text } = action.payload;\n  switch (action.type) {\n    case LOGIN:\n      return {\n        ...state,\n        username: action.payload.username,\n        isLoggedin: true,\n      };\n    case LOGOUT:\n      return {\n        ...state,\n        username: '',\n        isLoggedin: false,\n      };\n    // Legacies\n    case INIT:\n      return {\n        ...state,\n        fetched: true,\n      };\n    case ADD:\n      const newTodo = {\n        id,\n        text,\n        done: false,\n      };\n      return {\n        ...state,\n        todos: [newTodo, ...state.todos],\n      };\n    case DELETE:\n      return {\n        ...state,\n        todos: state.todos.filter((todo) => todo.id !== id),\n      };\n    case TOGGLE:\n      return {\n        ...state,\n        todos: state.todos.map((todo) => {\n          if (todo.id === id)\n            return { id: todo.id, text: todo.text, done: !todo.done };\n          return todo;\n        }),\n      };\n    case SEARCH:\n      return {\n        ...state,\n        filter: text,\n      };\n    default:\n      return state;\n  }\n}\n","import React, { createContext, useReducer } from 'react';\n\nimport TodoReducer, { todoActionCreators } from './TodoReducer';\n\nconst initialState = {\n  username: '',\n  isLoggedin: false,\n};\n\nexport const TodoContext = createContext();\n\nexport const TodoProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(TodoReducer, initialState);\n\n  const logIn = (username) => dispatch(todoActionCreators.logIn(username));\n  const logOut = () => dispatch(todoActionCreators.logOut());\n\n  return (\n    <TodoContext.Provider\n      value={{\n        isLoggedin: state.isLoggedin,\n        username: state.username,\n        logIn,\n        logOut,\n      }}\n    >\n      {children}\n    </TodoContext.Provider>\n  );\n};\n","const INCREMENT = 'counter/INCREMENT';\nconst DECREMENT = 'counter/DECREMENT';\nconst RESET = 'counter/RESET';\n\nexport const actionCreators = {\n  increment: () => ({\n    type: INCREMENT,\n  }),\n  decrement: () => ({\n    type: DECREMENT,\n  }),\n  reset: () => ({\n    type: RESET,\n  }),\n};\n\nexport default function CounterReducer(state, action) {\n  switch (action.type) {\n    case INCREMENT:\n      return {\n        number: state.number + 1,\n      };\n    case DECREMENT:\n      return {\n        number: state.number - 1,\n      };\n    case RESET:\n      return {\n        number: 0,\n      };\n    default:\n      return state;\n  }\n}\n","import React, { createContext, useReducer } from 'react';\nimport CounterReducer, { actionCreators } from './CounterReducer';\n\nconst initialState = {\n  number: 0,\n};\n\nexport const CounterContext = createContext(initialState);\n\nexport const CounterProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(CounterReducer, initialState);\n\n  const increment = () => {\n    dispatch(actionCreators.increment());\n  };\n\n  const decrement = () => {\n    dispatch(actionCreators.decrement());\n  };\n\n  const reset = () => {\n    dispatch(actionCreators.reset());\n  };\n\n  return (\n    <CounterContext.Provider\n      value={{\n        number: state.number,\n        increment,\n        decrement,\n        reset,\n      }}\n    >\n      {children}\n    </CounterContext.Provider>\n  );\n};\n","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { TodoContext } from '../context/TodoContext';\n\nconst Nav = () => {\n  const { isLoggedin } = useContext(TodoContext);\n  return (\n    <nav>\n      <Link to=\"/\">Home</Link> <Link to=\"/todo\">TODO</Link>{' '}\n      <Link to=\"/counter\">COUNTER</Link>{' '}\n      {isLoggedin && <Link to=\"/logout\"> Logout</Link>}\n    </nav>\n  );\n};\n\nexport default Nav;\n","import { gql } from '@apollo/client';\n\nconst addTodoMutation = gql`\n  mutation AddTodo($text: String!) {\n    addTodo(text: $text) {\n      id\n      text\n      done\n      deleted\n      user {\n        id\n        displayName\n      }\n    }\n  }\n`\n\nconst toggleTodoMutation = gql`\n  mutation ToggleTodo($id: ID!) {\n    toggleTodo(id: $id) {\n      id\n      text\n      done\n      deleted\n      user {\n        id\n        displayName\n      }\n    }\n  }\n`\n\nconst deleteTodoMutation = gql`\n  mutation DeleteTodo($id: ID!) {\n    deleteTodo(id: $id) {\n      id\n      text\n      done\n      deleted\n      user {\n        id\n        displayName\n      }\n    }\n  }\n`\n\nconst myTodosQuery = gql`\n  query {\n    myTodos {\n      id\n      text\n      done\n      deleted\n      user {\n        id\n        displayName\n      }\n    }\n  }\n`\n\nconst allUsersQuery = gql`\n  query {\n    allUsers {\n      id\n      displayName\n    }\n  }\n`\n\nconst todosQuery = gql`\n  query Todos($id: String!) {\n    todos(id: $id) {\n      id\n      text\n      done\n      user {\n        id\n        displayName\n      }\n    }\n  }\n`\n\nexport { addTodoMutation, toggleTodoMutation, myTodosQuery, deleteTodoMutation, allUsersQuery, todosQuery };","import React, { useRef } from 'react';\n\nimport { useMutation } from '@apollo/client';\nimport { addTodoMutation, myTodosQuery } from '../queries/querie';\n\nconst AddTodo = () => {\n  const [createTodo, { data, loading }] = useMutation(addTodoMutation, {\n    update(cache, { data: { addTodo } }) {\n      const { myTodos } = cache.readQuery({ query: myTodosQuery });\n      console.log(myTodos, '@@@');\n      cache.writeQuery({\n        query: myTodosQuery,\n        data: { myTodos: [addTodo, ...myTodos] },\n      });\n    },\n  });\n  const todoRef = useRef(null);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    createTodo({\n      variables: { text: todoRef.current.value },\n    });\n    todoRef.current.value = '';\n    todoRef.current.focus();\n    console.log(data);\n  };\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Add Todo...\"\n          ref={todoRef}\n          disabled={loading}\n        />\n        <button disabled={loading}>Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default AddTodo;\n","import React, { useContext, useEffect } from 'react';\nimport { useQuery, useMutation } from '@apollo/client';\n\nimport { TodoContext } from '../context/TodoContext';\nimport { myTodosQuery, toggleTodoMutation, deleteTodoMutation } from '../queries/querie';\nimport client from '../client/client';\n\nconst TodoList = () => {\n  const { loading, error, data } = useQuery(myTodosQuery);\n  const { username } = useContext(TodoContext);\n\n  useEffect(() => {\n  client.cache.reset();\n    return () => {\n      client.cache.reset();\n    }\n  }, [])\n\n  if (loading) return 'Loading...';\n  if (error) return `Error: ${error.message}`;\n\n  return (\n    <>\n      <h2>{username}&apos;s Todo List</h2>\n      {data.myTodos.filter(todo => !todo.deleted).map((todo) => (\n        <Todo {...todo} key={todo.id} />\n      ))}\n    </>\n  );\n};\n\nconst textStyle = {\n  textDecoration: 'line-through',\n};\n\nconst Todo = ({ id, text, done }) => {\n  const [toggleTodo, {\n    loading: loadingToggle,\n  }] = useMutation(toggleTodoMutation);\n  const [deleteTodo, {\n    loading: loadingDelete,\n  }] = useMutation(deleteTodoMutation);\n\n  const loading = loadingToggle || loadingDelete;\n\n  const onChange = () => {\n    console.log(typeof id, id);\n    toggleTodo({ variables: { id } });\n  };\n\n  const onClick = () => {\n    console.log(typeof id, id);\n    deleteTodo({ variables: { id } });\n  };\n\n  if (loading) {\n    return <li>Loading...</li>;\n  }\n  return (\n    <li>\n      <span style={done ? textStyle : null}>{text}</span>\n      <input type=\"checkbox\" checked={done} onChange={onChange} />\n      <button onClick={onClick}>X</button>\n    </li>\n  );\n};\n\nexport default TodoList;\n","import React, { useState } from 'react'\nimport { useQuery, useLazyQuery } from '@apollo/client';\nimport { allUsersQuery, todosQuery } from '../queries/querie';\n\nconst Others = () => {\n  const [userId, setUserId] = useState(''); \n  const { data: userData, loading, error } = useQuery(allUsersQuery, {\n    pollInterval: 2000,\n  });\n  const [getTodos, { data: todoData } ] = useLazyQuery(todosQuery);\n\n  const handleChange = (e) => {\n    console.log(e.target.value);\n    setUserId(e.target.value);\n    getTodos({ variables: { id: e.target.value }});\n  }\n\n  if (loading) return 'Loading Users...';\n  if (error) return 'Error..';\n  return (\n    <>\n      <select onChange={handleChange} value={userId}>\n        {\n          userData.allUsers.map(({ id, displayName}) => {\n            return <option value={id} key={id}>{displayName}</option>\n          })\n        }\n      </select>\n      <ul>\n        {\n          todoData? todoData.todos.map(({ id, text, done}, index) => {\n            if (done)\n             return <li key={id} style={{textDecoration: 'line-through'}}>{index+1} 번째 : {text}</li>;\n            return <li key={id}>{index+1} 번째 : {text}</li>;\n          }) :\n          <li>Loading Todos...</li>\n        }\n      </ul>\n    </>\n  )\n}\n\nexport default Others\n","import React, { useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport AddTodo from './AddTodo';\nimport TodoList from './TodoList';\nimport Others from './Others'\nimport { TodoContext } from '../context/TodoContext';\n\nconst TodoApp = () => {\n  const { isLoggedin } = useContext(TodoContext);\n\n  if (!isLoggedin) {\n    return <Redirect to=\"/\"/>;\n  }\n  return (\n    <>\n      <AddTodo />\n      <TodoList />\n      <Others />\n    </>\n  );\n};\n\nexport default TodoApp;\n","import React, { useContext } from 'react';\nimport { CounterContext } from '../context/CounterContext';\n\nconst Counter = () => {\n  const { number, increment, decrement, reset } = useContext(CounterContext);\n  return (\n    <div>\n      <h4>{number}</h4>\n      <button onClick={increment}>+</button>\n      <button onClick={reset}>RESET</button>\n      <button onClick={decrement}>-</button>\n    </div>\n  );\n};\n\nexport default Counter;\n","import { useState } from 'react';\n\nexport default (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange,\n  };\n};\n","/* eslint-disable camelcase */\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport useInput from '../hooks/useInput';\nimport { TodoContext } from '../context/TodoContext';\n\nconst Signup = () => {\n  const email = useInput('');\n  const password = useInput('');\n  const password2 = useInput('');\n  const displayName = useInput('');\n  const [errorMsg, setErrorMsg] = useState('');\n  const { isLoggedin, logIn, logOut } = useContext(TodoContext);\n\n  useEffect(() => {\n    axios('/auth/login_check').then(({ data }) => {\n      if (data.isLoggedin) {\n        logIn(data.displayName);\n      } else {\n        logOut();\n      }\n    });\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (password.value === password2.value) {\n      axios\n        .post('/auth/signup', {\n          email: email.value,\n          password: password.value,\n          displayName: displayName.value,\n        })\n        .then(({ data }) => {\n          console.log(data);\n          const { success } = data;\n          if (success) {\n            logIn(data.displayName);\n          }\n        })\n        .catch((err) => {\n          console.log(err.response);\n          const {\n            response: {\n              data: { error_msg },\n            },\n          } = err;\n          setErrorMsg(error_msg[0]);\n        });\n    } else {\n      setErrorMsg('Password does not match!');\n    }\n  };\n\n  return (\n    <>\n      {isLoggedin && (\n        <Redirect\n          to={{\n            pathname: '/',\n          }}\n        />\n      )}\n      <h3>{errorMsg}</h3>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor=\"email\">Email:</label>\n          <input type=\"email\" name=\"email\" placeholder=\"Email...\" {...email} />\n        </div>\n        <div>\n          <label htmlFor=\"password\">Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password...\"\n            {...password}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"password2\">Password:</label>\n          <input\n            type=\"password\"\n            name=\"password2\"\n            placeholder=\"Validate Password...\"\n            {...password2}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"password\">Display Name:</label>\n          <input\n            type=\"text\"\n            name=\"displayName\"\n            placeholder=\"DisplayName...\"\n            {...displayName}\n          />\n        </div>\n        <div>\n          <button>Sign up</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default Signup;\n","/* eslint-disable camelcase */\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nimport useInput from '../hooks/useInput';\nimport { TodoContext } from '../context/TodoContext';\n\nconst Home = () => {\n  const email = useInput('');\n  const password = useInput('');\n  const [errorMsg, setErrorMsg] = useState('');\n  const { isLoggedin, username, logIn, logOut } = useContext(TodoContext);\n\n  useEffect(() => {\n    axios('/auth/login_check').then(({ data }) => {\n      if (data.isLoggedin) {\n        logIn(data.displayName);\n      } else {\n        logOut();\n      }\n    });\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .post('/auth/login', {\n        email: email.value,\n        password: password.value,\n      })\n      .then(({ data }) => {\n        console.log(data);\n        const { success, displayName } = data;\n        if (success) {\n          logIn(displayName);\n        }\n      })\n      .catch((err) => {\n        console.log(err.response);\n        const {\n          response: {\n            data: { error_msg },\n          },\n        } = err;\n        setErrorMsg(error_msg[0]);\n      });\n  };\n\n  if (isLoggedin) {\n    return <h1>Welcome, {username}</h1>;\n  }\n  return (\n    <>\n      <h3>{errorMsg}</h3>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor=\"email\">Email:</label>\n          <input type=\"email\" name=\"email\" placeholder=\"Email...\" {...email} />\n        </div>\n        <div>\n          <label htmlFor=\"password\">Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password...\"\n            {...password}\n          />\n        </div>\n        <div>\n          <button>Log In</button>\n        </div>\n      </form>\n      <div>\n        <a href=\"http://localhost:5000/auth/google\">Google Login</a>\n      </div>\n      <div>\n        <Link to=\"/signup\">Signup</Link>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useContext } from 'react';\nimport axios from 'axios';\n\nimport { TodoContext } from '../context/TodoContext';\n\nconst Logout = ({ history }) => {\n  const { logOut } = useContext(TodoContext);\n  useEffect(() => {\n    axios\n      .post('/auth/logout')\n      .then((res) => {\n        console.log(res);\n        logOut();\n        history.replace('/');\n      })\n      .catch((err) => {\n        console.log(err.response);\n      })\n      .then(() => {\n        history.replace('/');\n      });\n  }, []);\n  return <div />;\n};\n\nexport default Logout;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\n\nimport { TodoProvider } from './context/TodoContext';\nimport { CounterProvider } from './context/CounterContext';\n\nimport Nav from './components/Nav';\nimport TodoApp from './components/TodoApp';\nimport Counter from './components/Counter';\nimport Signup from './components/Signup';\nimport Home from './components/Home';\nimport Logout from './components/Logout';\n\nconst App = () => {\n  return (\n    <TodoProvider>\n      <CounterProvider>\n        <Router basename=\"/justhavefun_c\">\n          <Nav />\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/logout\" component={Logout} />\n            <Route path=\"/todo\" component={TodoApp} />\n            <Route path=\"/counter\" component={Counter} />\n          </Switch>\n        </Router>\n      </CounterProvider>\n    </TodoProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ApolloProvider } from '@apollo/client';\nimport axios from 'axios';\n\nimport client from './client/client'\nimport App from './App';\n\naxios.defaults.baseURL = 'https://sangwook.ml';\naxios.defaults.withCredentials = true;\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n\n"],"sourceRoot":""}